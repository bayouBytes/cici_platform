{% extends 'base.html' %}

{% block content %}
    <h2>Order History for {{ user.username }}</h2>
    {% if orders %}
        {% for order in orders %}
            <div class="card">
                <div style="display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 10px;">
                    <strong>Order #{{ order.id }}</strong>
                    <span>Status: <span style="background: #eee; padding: 2px 6px; border-radius: 4px;">{{ order.status }}</span></span>
                </div>
                <ul>
                    {% for item in order.items.all %}
                        <li>{{ item.quantity }}x {{ item.menu_item.recipe.name }}</li>
                    {% endfor %}
                </ul>
                <small style="color: #666;">Placed on {{ order.created_at|date:"M d, Y" }}</small>
            </div>
        {% endfor %}
    {% else %}
        <p>No orders yet.</p>
    {% endif %}
{% endblock %}